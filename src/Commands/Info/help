const { AKIO } = require('../../Structures/Bot')
const {
	Message,
	ChatInputCommandInteraction,
	SlashCommandStringOption,
	EmbedBuilder,
	StringSelectMenuBuilder,
} = require('discord.js')

module.exports = {
	name: 'help',
	category: 'INFO',
	description: 'Abre el panel de ayuda o muestra informaci√≥n de un comando',
	bot_permises: ['ViewChannel', 'SendMessages'],
	user_permises: [],

	prefix_command: {
		aliases: ['ayuda', 'h'],

		/**
		 *
		 * @param { AKIO } bot
		 * @param { Message } msg
		 * @param { string[] } args
		 */
		exe(bot, msg, args) {
			const commandName = args[0]
			const commandsLength = bot.commands.filter(
				(c) => c.category !== 'DEVELOPER'
			).size

			const menuHelp = new StringSelectMenuBuilder()
				.setCustomId('menu-help')
				.setPlaceholder('Selecciona una categor√≠a')
				.addOptions([
					{
						label: 'Miscelaneo',
						emoji: 'üìò',
						description: 'Comandos variados',
						value: 'misc-op',
					},
					{
						label: '¬øDe qu√© trata el server?',
						emoji: '‚ùì',
						description: '¬øY este server para que es?',
						value: 'info-op',
					},
					{
						label: 'Abrir ticket',
						emoji: 'üé´',
						description: 'Accede al soporte del servidor',
						value: 'eco-op',
					},
				])

			const commandInfoEmbed = new EmbedBuilder()
				.setColor(bot.config.embedsDefaultColor)
				.setAuthor({ iconURL: bot.user.displayAvatarURL(), name: 'Ayuda' })
				.setTitle('<:purplearrow:1129823325170958457> Comandos de AKIO')
				.setDescription(
					`Existen ${commandsLength} comandos listos para usar\n\nInformaci√≥n de un comando:\n\`akio help <comando>\`\n\nSelecciona una categor√≠a para ver sus comandos`
				)
		},
	},

	slash_command: {
		name: 'help',
		description: 'Abre el panel de ayuda o muestra informaci√≥n de un comando',
		options: [
			{
				type: 3,
				name: 'comando',
			},
		],

		/**
		 *
		 * @param { AKIO } bot
		 * @param { ChatInputCommandInteraction } int
		 */
		exe(bot, int) {},
	},
}
